<!DOCTYPE html>






 

 

<!-- `site.alt_lang` can specify a language different from the UI -->
<html
  lang="en"
  
>
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Simple REST Server" />
<meta property="og:locale" content="en" />
<meta name="description" content="Implementation HTTP 모듈(Flask 등)을 사용하지 않고, Python의 기본 socket 모듈과 스레딩(threading) 등을 이용하여 간단한 RESTful API를 구현한다. 전체적으로 사용자 정보 관리와 고정 메시지 응답, 그리고 Preflight 요청(CORS 처리) 등을 지원하며, 각 HTTP 메서드(GET, POST, PUT, DELETE, OPTIONS)에 대해 별도의 핸들러를 구현하였다. 1. main.py 역할: 서버의 엔트리 포인트로, 소켓을 생성하고 클라이언트 연결을 기다리며 각 연결마다 새로운 스레드를 생성하여 요청을 처리함. 구현: 소켓 생성 및 바인딩: HOST와 PORT를 설정하고, 소켓 옵션 SO_REUSEADDR를 설정하여 주소 재사용을 허용함. 신호 처리: SIGINT (Ctrl+C) 시, 서버 소켓을 닫고 프로그램 종료를 수행. 클라이언트 처리: 무한 루프 내에서 클라이언트의 연결을 accept하고, 각 클라이언트에 대해 RequestHandler 인스턴스를 생성한 후, 별도의 스레드로 handler.run()을 실행하여 비동기적으로 요청을 처리하도록 함. 2. request_handler.py 역할: 클라이언트로부터 수신한 HTTP 패킷을 파싱하고, 적절한 HTTP 메서드 핸들러(GET, POST, OPTIONS, PUT, DELETE 등)를 호출하여 응답을 생성함. 핵심 내용: 공유 변수와 동기화: USER: 사용자 정보를 저장하는 전역 딕셔너리(서버 실행 동안만 유지). LOCK: 여러 스레드에서 사용자 정보를 안전하게 접근하기 위한 락. 패킷 파서: packet_parser() 함수는 수신한 HTTP 패킷을 헤더와 바디로 분리한다. 헤더 부분은 각 줄을 “:” 기준으로 키/값으로 파싱하여 딕셔너리로 변환한다. RequestHandler 클래스: 생성자에서 각 HTTP 메서드(GET, POST, OPTIONS, PUT, DELETE)에 대해 해당하는 모듈의 handler 함수를 매핑한다. run() 메서드에서는 소켓으로부터 데이터를 읽어와 패킷을 파싱하고, 요청된 HTTP 메서드에 해당하는 핸들러를 호출한 후, 생성된 응답 패킷을 클라이언트에게 전송한다. 만약 지원하지 않는 메서드가 요청되면, NotAllowed 핸들러를 호출하여 405 응답을 반환한다. 3. response.py 역할: HTTP 응답 메시지를 생성하는 유틸리티 함수들을 제공한다. 핵심 내용: 상태 코드 매핑: STATUS_CODE 딕셔너리로 각 상태 코드(200, 201, 400, 404 등)를 HTTP/1.1 상태 메시지와 매핑함. 헤더 생성: create_header() 함수는 HTTP 버전, 상태 코드, 서버 정보, 필수 헤더(Access-Control-Allow-Origin, Date 등)를 포함하는 응답 헤더를 생성한다. 전체 응답 생성: create_response() 함수는 지정된 코드와 (선택적) 응답 본문, 그리고 Preflight 요청일 경우 필요한 CORS 관련 옵션(Access-Control-Allow-Methods, Access-Control-Allow-Headers 등)을 처리하여 최종 응답 패킷을 구성한 후 바이트 문자열로 반환한다. 4. method_handler.py 역할: 모든 HTTP 메서드 핸들러가 상속받아야 하는 추상 기본 클래스(ABC)를 정의함. 핵심 내용: Method 클래스는 handler라는 클래스 메서드를 정의하고 있으며, 구체적인 메서드(GET, POST, PUT, DELETE, OPTIONS 등)는 이를 오버라이드하여 구현한다. 이를 통해 모든 메서드 핸들러가 동일한 인터페이스를 갖도록 강제하였음. 5. delete.py 역할: DELETE HTTP 메서드를 처리하며, 사용자 정보 삭제 요청을 처리함. 핵심 내용: 경로가 /user/&lt;id&gt;인 경우, URL에서 사용자 id를 추출하여, 공유 USER 딕셔너리에서 해당 사용자를 삭제함. 동기화(LOCK)를 사용해 여러 스레드에서 동시에 접근할 때 안전하게 처리. 사용자가 존재하지 않으면 404, 존재하면 삭제 후 200 응답을 반환함. 6. get.py 역할: GET HTTP 메서드를 처리합니다. 두 가지 주요 엔드포인트 /hi와 /user에 대해 각각 다른 응답을 반환한다. 핵심 내용: /hi 엔드포인트: 고정 메시지 응답으로, JSON 형식으로 {&quot;message&quot;: &quot;hi&quot;}를 반환함. /user 엔드포인트: URL 쿼리 스트링에서 id 값을 추출하여, 해당 사용자가 USER 딕셔너리에 존재하는지 확인. 사용자 정보가 존재하면 JSON 형태로 반환(200), 없으면 404 응답을 반환. 7. not_allowed.py 역할: 지원하지 않는 HTTP 메서드에 대해 405 Method Not Allowed 응답을 생성한다. 핵심 내용: NotAllowed 클래스는 Method를 상속받아, 호출 시 response.create_response(405)를 반환함. RequestHandler에서 정의되지 않은 메서드가 요청되었을 때 이 핸들러가 호출되도록 함. 8. options.py 역할: OPTIONS HTTP 메서드를 처리하여, 클라이언트에서 Preflight 요청 시 필요한 CORS 정보를 제공한다. 핵심 내용: 요청 URL이 /user로 시작하는 경우, URL의 세부 경로에 따라 허용되는 메서드와 헤더가 달라집니다. 사용자 목록(컬렉션) 요청: /user인 경우, 허용 메서드로 GET, POST, OPTIONS를 반환한다. 특정 사용자 요청: /user/&lt;id&gt;인 경우, 허용 메서드로 DELETE, PUT, OPTIONS를 반환한다. 응답에 Access-Control-Allow-Methods, Access-Control-Allow-Headers, Access-Control-Max-Age 등의 헤더를 포함시켜 Preflight 요청을 처리함. 9. post.py 역할: POST HTTP 메서드를 처리한다. 핵심 내용: /echo 엔드포인트: 클라이언트가 보낸 본문(body)을 그대로 응답으로 반환한다. /user 엔드포인트 (사용자 등록): 요청 본문을 JSON으로 파싱하여 id, name, gender 필드가 모두 존재하는지 확인함. 필수 필드가 누락되면 400 Bad Request 응답을 반환. 이미 동일한 id가 존재하면 409 Conflict 응답 반환. 모든 조건이 충족되면, LOCK을 사용해 USER 딕셔너리에 신규 사용자를 추가하고 201 Created 응답을 반환한다. 10. put.py 역할: PUT HTTP 메서드를 처리하여, 특정 사용자의 정보를 수정한다. 핵심 내용: URL에서 /user/&lt;id&gt; 형식으로 사용자 id를 추출한다. 요청 본문을 JSON으로 파싱한 후, 수정 가능한 정보가 올바른지 검증함. 수정 가능 정보는 오직 name만 허용된다. 만약 JSON 데이터에 id나 gender가 포함되거나, name 필드가 누락된 경우 400 Bad Request를 반환하도록 함. 현재 저장된 이름과 동일한 경우엔 무의미한 수정으로 간주하여 422 Unprocessable Entity 응답을 반환한다. 올바른 요청이면 사용자 정보를 업데이트하고 200 OK 응답을 반환한다. 🔗 원본 파일 보기" />
<meta property="og:description" content="Implementation HTTP 모듈(Flask 등)을 사용하지 않고, Python의 기본 socket 모듈과 스레딩(threading) 등을 이용하여 간단한 RESTful API를 구현한다. 전체적으로 사용자 정보 관리와 고정 메시지 응답, 그리고 Preflight 요청(CORS 처리) 등을 지원하며, 각 HTTP 메서드(GET, POST, PUT, DELETE, OPTIONS)에 대해 별도의 핸들러를 구현하였다. 1. main.py 역할: 서버의 엔트리 포인트로, 소켓을 생성하고 클라이언트 연결을 기다리며 각 연결마다 새로운 스레드를 생성하여 요청을 처리함. 구현: 소켓 생성 및 바인딩: HOST와 PORT를 설정하고, 소켓 옵션 SO_REUSEADDR를 설정하여 주소 재사용을 허용함. 신호 처리: SIGINT (Ctrl+C) 시, 서버 소켓을 닫고 프로그램 종료를 수행. 클라이언트 처리: 무한 루프 내에서 클라이언트의 연결을 accept하고, 각 클라이언트에 대해 RequestHandler 인스턴스를 생성한 후, 별도의 스레드로 handler.run()을 실행하여 비동기적으로 요청을 처리하도록 함. 2. request_handler.py 역할: 클라이언트로부터 수신한 HTTP 패킷을 파싱하고, 적절한 HTTP 메서드 핸들러(GET, POST, OPTIONS, PUT, DELETE 등)를 호출하여 응답을 생성함. 핵심 내용: 공유 변수와 동기화: USER: 사용자 정보를 저장하는 전역 딕셔너리(서버 실행 동안만 유지). LOCK: 여러 스레드에서 사용자 정보를 안전하게 접근하기 위한 락. 패킷 파서: packet_parser() 함수는 수신한 HTTP 패킷을 헤더와 바디로 분리한다. 헤더 부분은 각 줄을 “:” 기준으로 키/값으로 파싱하여 딕셔너리로 변환한다. RequestHandler 클래스: 생성자에서 각 HTTP 메서드(GET, POST, OPTIONS, PUT, DELETE)에 대해 해당하는 모듈의 handler 함수를 매핑한다. run() 메서드에서는 소켓으로부터 데이터를 읽어와 패킷을 파싱하고, 요청된 HTTP 메서드에 해당하는 핸들러를 호출한 후, 생성된 응답 패킷을 클라이언트에게 전송한다. 만약 지원하지 않는 메서드가 요청되면, NotAllowed 핸들러를 호출하여 405 응답을 반환한다. 3. response.py 역할: HTTP 응답 메시지를 생성하는 유틸리티 함수들을 제공한다. 핵심 내용: 상태 코드 매핑: STATUS_CODE 딕셔너리로 각 상태 코드(200, 201, 400, 404 등)를 HTTP/1.1 상태 메시지와 매핑함. 헤더 생성: create_header() 함수는 HTTP 버전, 상태 코드, 서버 정보, 필수 헤더(Access-Control-Allow-Origin, Date 등)를 포함하는 응답 헤더를 생성한다. 전체 응답 생성: create_response() 함수는 지정된 코드와 (선택적) 응답 본문, 그리고 Preflight 요청일 경우 필요한 CORS 관련 옵션(Access-Control-Allow-Methods, Access-Control-Allow-Headers 등)을 처리하여 최종 응답 패킷을 구성한 후 바이트 문자열로 반환한다. 4. method_handler.py 역할: 모든 HTTP 메서드 핸들러가 상속받아야 하는 추상 기본 클래스(ABC)를 정의함. 핵심 내용: Method 클래스는 handler라는 클래스 메서드를 정의하고 있으며, 구체적인 메서드(GET, POST, PUT, DELETE, OPTIONS 등)는 이를 오버라이드하여 구현한다. 이를 통해 모든 메서드 핸들러가 동일한 인터페이스를 갖도록 강제하였음. 5. delete.py 역할: DELETE HTTP 메서드를 처리하며, 사용자 정보 삭제 요청을 처리함. 핵심 내용: 경로가 /user/&lt;id&gt;인 경우, URL에서 사용자 id를 추출하여, 공유 USER 딕셔너리에서 해당 사용자를 삭제함. 동기화(LOCK)를 사용해 여러 스레드에서 동시에 접근할 때 안전하게 처리. 사용자가 존재하지 않으면 404, 존재하면 삭제 후 200 응답을 반환함. 6. get.py 역할: GET HTTP 메서드를 처리합니다. 두 가지 주요 엔드포인트 /hi와 /user에 대해 각각 다른 응답을 반환한다. 핵심 내용: /hi 엔드포인트: 고정 메시지 응답으로, JSON 형식으로 {&quot;message&quot;: &quot;hi&quot;}를 반환함. /user 엔드포인트: URL 쿼리 스트링에서 id 값을 추출하여, 해당 사용자가 USER 딕셔너리에 존재하는지 확인. 사용자 정보가 존재하면 JSON 형태로 반환(200), 없으면 404 응답을 반환. 7. not_allowed.py 역할: 지원하지 않는 HTTP 메서드에 대해 405 Method Not Allowed 응답을 생성한다. 핵심 내용: NotAllowed 클래스는 Method를 상속받아, 호출 시 response.create_response(405)를 반환함. RequestHandler에서 정의되지 않은 메서드가 요청되었을 때 이 핸들러가 호출되도록 함. 8. options.py 역할: OPTIONS HTTP 메서드를 처리하여, 클라이언트에서 Preflight 요청 시 필요한 CORS 정보를 제공한다. 핵심 내용: 요청 URL이 /user로 시작하는 경우, URL의 세부 경로에 따라 허용되는 메서드와 헤더가 달라집니다. 사용자 목록(컬렉션) 요청: /user인 경우, 허용 메서드로 GET, POST, OPTIONS를 반환한다. 특정 사용자 요청: /user/&lt;id&gt;인 경우, 허용 메서드로 DELETE, PUT, OPTIONS를 반환한다. 응답에 Access-Control-Allow-Methods, Access-Control-Allow-Headers, Access-Control-Max-Age 등의 헤더를 포함시켜 Preflight 요청을 처리함. 9. post.py 역할: POST HTTP 메서드를 처리한다. 핵심 내용: /echo 엔드포인트: 클라이언트가 보낸 본문(body)을 그대로 응답으로 반환한다. /user 엔드포인트 (사용자 등록): 요청 본문을 JSON으로 파싱하여 id, name, gender 필드가 모두 존재하는지 확인함. 필수 필드가 누락되면 400 Bad Request 응답을 반환. 이미 동일한 id가 존재하면 409 Conflict 응답 반환. 모든 조건이 충족되면, LOCK을 사용해 USER 딕셔너리에 신규 사용자를 추가하고 201 Created 응답을 반환한다. 10. put.py 역할: PUT HTTP 메서드를 처리하여, 특정 사용자의 정보를 수정한다. 핵심 내용: URL에서 /user/&lt;id&gt; 형식으로 사용자 id를 추출한다. 요청 본문을 JSON으로 파싱한 후, 수정 가능한 정보가 올바른지 검증함. 수정 가능 정보는 오직 name만 허용된다. 만약 JSON 데이터에 id나 gender가 포함되거나, name 필드가 누락된 경우 400 Bad Request를 반환하도록 함. 현재 저장된 이름과 동일한 경우엔 무의미한 수정으로 간주하여 422 Unprocessable Entity 응답을 반환한다. 올바른 요청이면 사용자 정보를 업데이트하고 200 OK 응답을 반환한다. 🔗 원본 파일 보기" />
<link rel="canonical" href="https://forte-naop.github.io/posts/Simple_REST_Server/" />
<meta property="og:url" content="https://forte-naop.github.io/posts/Simple_REST_Server/" />
<meta property="og:site_name" content="Forte’s Notes" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-03-10T17:36:13+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Simple REST Server" />
<meta name="twitter:site" content="@kirameki_ing" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-03-10T17:36:13+09:00","datePublished":"2025-03-10T17:36:13+09:00","description":"Implementation HTTP 모듈(Flask 등)을 사용하지 않고, Python의 기본 socket 모듈과 스레딩(threading) 등을 이용하여 간단한 RESTful API를 구현한다. 전체적으로 사용자 정보 관리와 고정 메시지 응답, 그리고 Preflight 요청(CORS 처리) 등을 지원하며, 각 HTTP 메서드(GET, POST, PUT, DELETE, OPTIONS)에 대해 별도의 핸들러를 구현하였다. 1. main.py 역할: 서버의 엔트리 포인트로, 소켓을 생성하고 클라이언트 연결을 기다리며 각 연결마다 새로운 스레드를 생성하여 요청을 처리함. 구현: 소켓 생성 및 바인딩: HOST와 PORT를 설정하고, 소켓 옵션 SO_REUSEADDR를 설정하여 주소 재사용을 허용함. 신호 처리: SIGINT (Ctrl+C) 시, 서버 소켓을 닫고 프로그램 종료를 수행. 클라이언트 처리: 무한 루프 내에서 클라이언트의 연결을 accept하고, 각 클라이언트에 대해 RequestHandler 인스턴스를 생성한 후, 별도의 스레드로 handler.run()을 실행하여 비동기적으로 요청을 처리하도록 함. 2. request_handler.py 역할: 클라이언트로부터 수신한 HTTP 패킷을 파싱하고, 적절한 HTTP 메서드 핸들러(GET, POST, OPTIONS, PUT, DELETE 등)를 호출하여 응답을 생성함. 핵심 내용: 공유 변수와 동기화: USER: 사용자 정보를 저장하는 전역 딕셔너리(서버 실행 동안만 유지). LOCK: 여러 스레드에서 사용자 정보를 안전하게 접근하기 위한 락. 패킷 파서: packet_parser() 함수는 수신한 HTTP 패킷을 헤더와 바디로 분리한다. 헤더 부분은 각 줄을 “:” 기준으로 키/값으로 파싱하여 딕셔너리로 변환한다. RequestHandler 클래스: 생성자에서 각 HTTP 메서드(GET, POST, OPTIONS, PUT, DELETE)에 대해 해당하는 모듈의 handler 함수를 매핑한다. run() 메서드에서는 소켓으로부터 데이터를 읽어와 패킷을 파싱하고, 요청된 HTTP 메서드에 해당하는 핸들러를 호출한 후, 생성된 응답 패킷을 클라이언트에게 전송한다. 만약 지원하지 않는 메서드가 요청되면, NotAllowed 핸들러를 호출하여 405 응답을 반환한다. 3. response.py 역할: HTTP 응답 메시지를 생성하는 유틸리티 함수들을 제공한다. 핵심 내용: 상태 코드 매핑: STATUS_CODE 딕셔너리로 각 상태 코드(200, 201, 400, 404 등)를 HTTP/1.1 상태 메시지와 매핑함. 헤더 생성: create_header() 함수는 HTTP 버전, 상태 코드, 서버 정보, 필수 헤더(Access-Control-Allow-Origin, Date 등)를 포함하는 응답 헤더를 생성한다. 전체 응답 생성: create_response() 함수는 지정된 코드와 (선택적) 응답 본문, 그리고 Preflight 요청일 경우 필요한 CORS 관련 옵션(Access-Control-Allow-Methods, Access-Control-Allow-Headers 등)을 처리하여 최종 응답 패킷을 구성한 후 바이트 문자열로 반환한다. 4. method_handler.py 역할: 모든 HTTP 메서드 핸들러가 상속받아야 하는 추상 기본 클래스(ABC)를 정의함. 핵심 내용: Method 클래스는 handler라는 클래스 메서드를 정의하고 있으며, 구체적인 메서드(GET, POST, PUT, DELETE, OPTIONS 등)는 이를 오버라이드하여 구현한다. 이를 통해 모든 메서드 핸들러가 동일한 인터페이스를 갖도록 강제하였음. 5. delete.py 역할: DELETE HTTP 메서드를 처리하며, 사용자 정보 삭제 요청을 처리함. 핵심 내용: 경로가 /user/&lt;id&gt;인 경우, URL에서 사용자 id를 추출하여, 공유 USER 딕셔너리에서 해당 사용자를 삭제함. 동기화(LOCK)를 사용해 여러 스레드에서 동시에 접근할 때 안전하게 처리. 사용자가 존재하지 않으면 404, 존재하면 삭제 후 200 응답을 반환함. 6. get.py 역할: GET HTTP 메서드를 처리합니다. 두 가지 주요 엔드포인트 /hi와 /user에 대해 각각 다른 응답을 반환한다. 핵심 내용: /hi 엔드포인트: 고정 메시지 응답으로, JSON 형식으로 {&quot;message&quot;: &quot;hi&quot;}를 반환함. /user 엔드포인트: URL 쿼리 스트링에서 id 값을 추출하여, 해당 사용자가 USER 딕셔너리에 존재하는지 확인. 사용자 정보가 존재하면 JSON 형태로 반환(200), 없으면 404 응답을 반환. 7. not_allowed.py 역할: 지원하지 않는 HTTP 메서드에 대해 405 Method Not Allowed 응답을 생성한다. 핵심 내용: NotAllowed 클래스는 Method를 상속받아, 호출 시 response.create_response(405)를 반환함. RequestHandler에서 정의되지 않은 메서드가 요청되었을 때 이 핸들러가 호출되도록 함. 8. options.py 역할: OPTIONS HTTP 메서드를 처리하여, 클라이언트에서 Preflight 요청 시 필요한 CORS 정보를 제공한다. 핵심 내용: 요청 URL이 /user로 시작하는 경우, URL의 세부 경로에 따라 허용되는 메서드와 헤더가 달라집니다. 사용자 목록(컬렉션) 요청: /user인 경우, 허용 메서드로 GET, POST, OPTIONS를 반환한다. 특정 사용자 요청: /user/&lt;id&gt;인 경우, 허용 메서드로 DELETE, PUT, OPTIONS를 반환한다. 응답에 Access-Control-Allow-Methods, Access-Control-Allow-Headers, Access-Control-Max-Age 등의 헤더를 포함시켜 Preflight 요청을 처리함. 9. post.py 역할: POST HTTP 메서드를 처리한다. 핵심 내용: /echo 엔드포인트: 클라이언트가 보낸 본문(body)을 그대로 응답으로 반환한다. /user 엔드포인트 (사용자 등록): 요청 본문을 JSON으로 파싱하여 id, name, gender 필드가 모두 존재하는지 확인함. 필수 필드가 누락되면 400 Bad Request 응답을 반환. 이미 동일한 id가 존재하면 409 Conflict 응답 반환. 모든 조건이 충족되면, LOCK을 사용해 USER 딕셔너리에 신규 사용자를 추가하고 201 Created 응답을 반환한다. 10. put.py 역할: PUT HTTP 메서드를 처리하여, 특정 사용자의 정보를 수정한다. 핵심 내용: URL에서 /user/&lt;id&gt; 형식으로 사용자 id를 추출한다. 요청 본문을 JSON으로 파싱한 후, 수정 가능한 정보가 올바른지 검증함. 수정 가능 정보는 오직 name만 허용된다. 만약 JSON 데이터에 id나 gender가 포함되거나, name 필드가 누락된 경우 400 Bad Request를 반환하도록 함. 현재 저장된 이름과 동일한 경우엔 무의미한 수정으로 간주하여 422 Unprocessable Entity 응답을 반환한다. 올바른 요청이면 사용자 정보를 업데이트하고 200 OK 응답을 반환한다. 🔗 원본 파일 보기","headline":"Simple REST Server","mainEntityOfPage":{"@type":"WebPage","@id":"https://forte-naop.github.io/posts/Simple_REST_Server/"},"url":"https://forte-naop.github.io/posts/Simple_REST_Server/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Simple REST Server | Forte's Notes
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Forte's Notes">
<meta name="application-name" content="Forte's Notes">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>
 

  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/profile.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Forte's Notes</a>
    <p class="site-subtitle fst-italic mb-0">CS 공부 메모장</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/Forte-NaoP"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/kirameki_ing"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/bae9750"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['bae9750','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>Simple REST Server</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main
            aria-label="Main Content"
            class="col-12 col-lg-11 col-xl-9 px-md-4"
          >
             <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>Simple REST Server</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1741595773"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Mar 10, 2025
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/Forte-NaoP">Forte</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1862 words"
>
  <em>10 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">Simple REST Server</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">Simple REST Server</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <h1 id="implementation">Implementation</h1>

<p>HTTP 모듈(Flask 등)을 사용하지 않고, Python의 기본 socket 모듈과 스레딩(threading) 등을 이용하여 간단한 RESTful API를 구현한다. 전체적으로 사용자 정보 관리와 고정 메시지 응답, 그리고 Preflight 요청(CORS 처리) 등을 지원하며, 각 HTTP 메서드(GET, POST, PUT, DELETE, OPTIONS)에 대해 별도의 핸들러를 구현하였다.</p>

<hr />

<h2 id="1-mainpy"><span class="me-2">1. main.py</span><a href="#1-mainpy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
서버의 엔트리 포인트로, 소켓을 생성하고 클라이언트 연결을 기다리며 각 연결마다 새로운 스레드를 생성하여 요청을 처리함.</p>
  </li>
  <li>
    <p><strong>구현:</strong></p>
    <ul>
      <li><strong>소켓 생성 및 바인딩:</strong>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">HOST</code>와 <code class="language-plaintext highlighter-rouge">PORT</code>를 설정하고, 소켓 옵션 <code class="language-plaintext highlighter-rouge">SO_REUSEADDR</code>를 설정하여 주소 재사용을 허용함.</li>
        </ul>
      </li>
      <li><strong>신호 처리:</strong>
        <ul>
          <li>SIGINT (Ctrl+C) 시, 서버 소켓을 닫고 프로그램 종료를 수행.</li>
        </ul>
      </li>
      <li><strong>클라이언트 처리:</strong>
        <ul>
          <li>무한 루프 내에서 클라이언트의 연결을 accept하고, 각 클라이언트에 대해 <code class="language-plaintext highlighter-rouge">RequestHandler</code> 인스턴스를 생성한 후, 별도의 스레드로 <code class="language-plaintext highlighter-rouge">handler.run()</code>을 실행하여 비동기적으로 요청을 처리하도록 함.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="2-request_handlerpy"><span class="me-2">2. request_handler.py</span><a href="#2-request_handlerpy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
클라이언트로부터 수신한 HTTP 패킷을 파싱하고, 적절한 HTTP 메서드 핸들러(GET, POST, OPTIONS, PUT, DELETE 등)를 호출하여 응답을 생성함.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li><strong>공유 변수와 동기화:</strong>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">USER</code>: 사용자 정보를 저장하는 전역 딕셔너리(서버 실행 동안만 유지).</li>
          <li><code class="language-plaintext highlighter-rouge">LOCK</code>: 여러 스레드에서 사용자 정보를 안전하게 접근하기 위한 락.</li>
        </ul>
      </li>
      <li><strong>패킷 파서:</strong>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">packet_parser()</code> 함수는 수신한 HTTP 패킷을 헤더와 바디로 분리한다. 헤더 부분은 각 줄을 “:” 기준으로 키/값으로 파싱하여 딕셔너리로 변환한다.</li>
        </ul>
      </li>
      <li><strong>RequestHandler 클래스:</strong>
        <ul>
          <li>생성자에서 각 HTTP 메서드(GET, POST, OPTIONS, PUT, DELETE)에 대해 해당하는 모듈의 <code class="language-plaintext highlighter-rouge">handler</code> 함수를 매핑한다.</li>
          <li><code class="language-plaintext highlighter-rouge">run()</code> 메서드에서는 소켓으로부터 데이터를 읽어와 패킷을 파싱하고, 요청된 HTTP 메서드에 해당하는 핸들러를 호출한 후, 생성된 응답 패킷을 클라이언트에게 전송한다.</li>
          <li>만약 지원하지 않는 메서드가 요청되면, <code class="language-plaintext highlighter-rouge">NotAllowed</code> 핸들러를 호출하여 405 응답을 반환한다.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="3-responsepy"><span class="me-2">3. response.py</span><a href="#3-responsepy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
HTTP 응답 메시지를 생성하는 유틸리티 함수들을 제공한다.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li><strong>상태 코드 매핑:</strong>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">STATUS_CODE</code> 딕셔너리로 각 상태 코드(200, 201, 400, 404 등)를 HTTP/1.1 상태 메시지와 매핑함.</li>
        </ul>
      </li>
      <li><strong>헤더 생성:</strong>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">create_header()</code> 함수는 HTTP 버전, 상태 코드, 서버 정보, 필수 헤더(Access-Control-Allow-Origin, Date 등)를 포함하는 응답 헤더를 생성한다.</li>
        </ul>
      </li>
      <li><strong>전체 응답 생성:</strong>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">create_response()</code> 함수는 지정된 코드와 (선택적) 응답 본문, 그리고 Preflight 요청일 경우 필요한 CORS 관련 옵션(Access-Control-Allow-Methods, Access-Control-Allow-Headers 등)을 처리하여 최종 응답 패킷을 구성한 후 바이트 문자열로 반환한다.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="4-method_handlerpy"><span class="me-2">4. method_handler.py</span><a href="#4-method_handlerpy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
모든 HTTP 메서드 핸들러가 상속받아야 하는 추상 기본 클래스(ABC)를 정의함.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Method</code> 클래스는 <code class="language-plaintext highlighter-rouge">handler</code>라는 클래스 메서드를 정의하고 있으며, 구체적인 메서드(GET, POST, PUT, DELETE, OPTIONS 등)는 이를 오버라이드하여 구현한다.</li>
      <li>이를 통해 모든 메서드 핸들러가 동일한 인터페이스를 갖도록 강제하였음.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="5-deletepy"><span class="me-2">5. delete.py</span><a href="#5-deletepy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
DELETE HTTP 메서드를 처리하며, 사용자 정보 삭제 요청을 처리함.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li>경로가 <code class="language-plaintext highlighter-rouge">/user/&lt;id&gt;</code>인 경우, URL에서 사용자 id를 추출하여, 공유 USER 딕셔너리에서 해당 사용자를 삭제함.</li>
      <li>동기화(LOCK)를 사용해 여러 스레드에서 동시에 접근할 때 안전하게 처리.</li>
      <li>사용자가 존재하지 않으면 404, 존재하면 삭제 후 200 응답을 반환함.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="6-getpy"><span class="me-2">6. get.py</span><a href="#6-getpy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
GET HTTP 메서드를 처리합니다. 두 가지 주요 엔드포인트 <code class="language-plaintext highlighter-rouge">/hi</code>와 <code class="language-plaintext highlighter-rouge">/user</code>에 대해 각각 다른 응답을 반환한다.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">/hi</code> 엔드포인트:</strong>
        <ul>
          <li>고정 메시지 응답으로, JSON 형식으로 <code class="language-plaintext highlighter-rouge">{"message": "hi"}</code>를 반환함.</li>
        </ul>
      </li>
      <li><strong><code class="language-plaintext highlighter-rouge">/user</code> 엔드포인트:</strong>
        <ul>
          <li>URL 쿼리 스트링에서 <code class="language-plaintext highlighter-rouge">id</code> 값을 추출하여, 해당 사용자가 USER 딕셔너리에 존재하는지 확인.</li>
          <li>사용자 정보가 존재하면 JSON 형태로 반환(200), 없으면 404 응답을 반환.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="7-not_allowedpy"><span class="me-2">7. not_allowed.py</span><a href="#7-not_allowedpy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
지원하지 않는 HTTP 메서드에 대해 405 Method Not Allowed 응답을 생성한다.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">NotAllowed</code> 클래스는 <code class="language-plaintext highlighter-rouge">Method</code>를 상속받아, 호출 시 <code class="language-plaintext highlighter-rouge">response.create_response(405)</code>를 반환함.</li>
      <li>RequestHandler에서 정의되지 않은 메서드가 요청되었을 때 이 핸들러가 호출되도록 함.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="8-optionspy"><span class="me-2">8. options.py</span><a href="#8-optionspy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
OPTIONS HTTP 메서드를 처리하여, 클라이언트에서 Preflight 요청 시 필요한 CORS 정보를 제공한다.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li>요청 URL이 <code class="language-plaintext highlighter-rouge">/user</code>로 시작하는 경우, URL의 세부 경로에 따라 허용되는 메서드와 헤더가 달라집니다.
        <ul>
          <li><strong>사용자 목록(컬렉션) 요청</strong>: <code class="language-plaintext highlighter-rouge">/user</code>인 경우, 허용 메서드로 <code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">OPTIONS</code>를 반환한다.</li>
          <li><strong>특정 사용자 요청</strong>: <code class="language-plaintext highlighter-rouge">/user/&lt;id&gt;</code>인 경우, 허용 메서드로 <code class="language-plaintext highlighter-rouge">DELETE</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, <code class="language-plaintext highlighter-rouge">OPTIONS</code>를 반환한다.</li>
        </ul>
      </li>
      <li>응답에 <code class="language-plaintext highlighter-rouge">Access-Control-Allow-Methods</code>, <code class="language-plaintext highlighter-rouge">Access-Control-Allow-Headers</code>, <code class="language-plaintext highlighter-rouge">Access-Control-Max-Age</code> 등의 헤더를 포함시켜 Preflight 요청을 처리함.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="9-postpy"><span class="me-2">9. post.py</span><a href="#9-postpy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
POST HTTP 메서드를 처리한다.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">/echo</code> 엔드포인트:</strong>
        <ul>
          <li>클라이언트가 보낸 본문(body)을 그대로 응답으로 반환한다.</li>
        </ul>
      </li>
      <li><strong><code class="language-plaintext highlighter-rouge">/user</code> 엔드포인트 (사용자 등록):</strong>
        <ul>
          <li>요청 본문을 JSON으로 파싱하여 <code class="language-plaintext highlighter-rouge">id</code>, <code class="language-plaintext highlighter-rouge">name</code>, <code class="language-plaintext highlighter-rouge">gender</code> 필드가 모두 존재하는지 확인함.</li>
          <li>필수 필드가 누락되면 400 Bad Request 응답을 반환.</li>
          <li>이미 동일한 id가 존재하면 409 Conflict 응답 반환.</li>
          <li>모든 조건이 충족되면, LOCK을 사용해 USER 딕셔너리에 신규 사용자를 추가하고 201 Created 응답을 반환한다.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="10-putpy"><span class="me-2">10. put.py</span><a href="#10-putpy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>
    <p><strong>역할:</strong><br />
PUT HTTP 메서드를 처리하여, 특정 사용자의 정보를 수정한다.</p>
  </li>
  <li>
    <p><strong>핵심 내용:</strong></p>
    <ul>
      <li>URL에서 <code class="language-plaintext highlighter-rouge">/user/&lt;id&gt;</code> 형식으로 사용자 id를 추출한다.</li>
      <li>요청 본문을 JSON으로 파싱한 후, 수정 가능한 정보가 올바른지 검증함.
        <ul>
          <li>수정 가능 정보는 오직 <code class="language-plaintext highlighter-rouge">name</code>만 허용된다.</li>
          <li>만약 JSON 데이터에 <code class="language-plaintext highlighter-rouge">id</code>나 <code class="language-plaintext highlighter-rouge">gender</code>가 포함되거나, <code class="language-plaintext highlighter-rouge">name</code> 필드가 누락된 경우 400 Bad Request를 반환하도록 함.</li>
        </ul>
      </li>
      <li>현재 저장된 이름과 동일한 경우엔 무의미한 수정으로 간주하여 422 Unprocessable Entity 응답을 반환한다.</li>
      <li>올바른 요청이면 사용자 정보를 업데이트하고 200 OK 응답을 반환한다.</li>
    </ul>
  </li>
</ul>

<hr />
<p>🔗 <a href="https://github.com/Forte-NaoP/Univ-Project/blob/main/Computer-Network/simple_rest_server/Implementation.md" target="_blank">원본 파일 보기</a></p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/project/">Project</a>,
          <a href="/categories/network/">Network</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/rest/"
            class="post-tag no-text-decoration"
          >REST</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Simple%20REST%20Server%20-%20Forte's%20Notes&url=https%3A%2F%2Fforte-naop.github.io%2Fposts%2FSimple_REST_Server%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Simple%20REST%20Server%20-%20Forte's%20Notes&u=https%3A%2F%2Fforte-naop.github.io%2Fposts%2FSimple_REST_Server%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fforte-naop.github.io%2Fposts%2FSimple_REST_Server%2F&text=Simple%20REST%20Server%20-%20Forte's%20Notes" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>

 
          </main>

          <!-- panel -->
          <aside
            aria-label="Panel"
            id="panel-wrapper"
            class="col-xl-3 ps-2 text-muted"
          >
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/RDP-on-UDP/">RDP on UDP</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Simple_REST_Server/">Simple REST Server</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Manacher/">Manacher 알고리즘</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Trie/">Trie 구현</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Bot_note_3/">게임 보드 관련 잡설</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->

 <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bot/">Bot</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/opengl/">OpenGL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/blog/">Blog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/dp/">DP</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/elastic-collision/">Elastic_Collision</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/math/">Math</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sort/">Sort</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/concurrency/">Concurrency</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/heap/">Heap</a>
      
    </div>
  </section>


            </div>

              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>

 
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/RDP-on-UDP/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1741764696"
  data-df="ll"
  
>
  Mar 12, 2025
</time>

              <h4 class="pt-0 my-2">RDP on UDP</h4>
              <div class="text-muted">
                <p>{% remote_include https://raw.githubusercontent.com/Forte-NaoP/Univ-Project/main/Computer-Network/RDT-on-UDP/README.md %}
🔗 원본 파일 보기

🔗 RDT 1.0

🔗 RDT 2.2

🔗 RDT 3.0

🔗 RDT 3.0+</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/Bot_note_1/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1738486627"
  data-df="ll"
  
>
  Feb  2, 2025
</time>

              <h4 class="pt-0 my-2">Rust 동시성 문제</h4>
              <div class="text-muted">
                <p>std::process::Stdio::piped() 는 새로운 파이프를 생성한다. std::process::Command::stdin(Stdio::piped()) 같은 식으로 사용하면 stdin이 생성된 파이프로 대체 되는 식.
CommandObject.stdin.take().unwrap()으로 해당 파이프 디스크립터를 가져올 수 있다.
  
  
 ...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/MFQ/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1737534653"
  data-df="ll"
  
>
  Jan 22, 2025
</time>

              <h4 class="pt-0 my-2">Multi-level Feedack Queue 구현하기</h4>
              <div class="text-muted">
                <p>멀티 레벨 피드백 큐(MFQ) 스케줄링



코드 구조


  데이터 구조
    
      Process 구조체: 각 프로세스를 표현하는 구조체.
      waitq, finishedq, global_io_q: 대기 큐, 완료 큐, 글로벌 I/O 큐.
    
  
  스케줄러 클래스
    
      SchedulerBase (추상 클래스):...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->

   <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/Manacher/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Manacher 알고리즘</p>
    </a>
  

  
    <a
      href="/posts/RDP-on-UDP/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>RDP on UDP</p>
    </a>
  
</nav>
  <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://github.com/Forte-NaoP">Forte</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.2.4"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bot/">Bot</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/opengl/">OpenGL</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/blog/">Blog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/dp/">DP</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/elastic-collision/">Elastic_Collision</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/math/">Math</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sort/">Sort</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/concurrency/">Concurrency</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/heap/">Heap</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button
          id="back-to-top"
          type="button"
          class="btn btn-lg btn-box-shadow"
        >
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

     <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

      <!-- The comments switcher -->

 
    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

